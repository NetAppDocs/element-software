<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "file:///C:/InfoShare/Web/Author/ASP/DocTypes/dita-oasis/1.2/technicalContent/dtd/task.dtd">
<task id="GUID-FAB1BAD4-49CF-4DB6-A090-7238ECBBAC3E" xml:lang="en" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
  <title id="GUID-F8DE1085-9AFD-44CF-8E78-CC8B5640EDED">Enable virtual volumes</title>
  <shortdesc>You must manually enable vSphere Virtual Volumes (VVols) functionality through the <ph conref="ISH_variables.dita#variables/NTAP-ELEMENT-SOFTWARE">NetApp Element software</ph>. The <ph conref="ISH_variables.dita#variables/ELEMENT-SHORT">Element</ph> software system comes with VVols functionality disabled by default, and it is not automatically enabled as part of a new installation or upgrade. Enabling the VVols feature is a one-time configuration task.</shortdesc>
  <prolog>
    <metadata>
      <keywords>
        <keyword>virtual volumes</keyword>
        <indexterm>virtual volumes<indexterm>enabling functionality on the cluster</indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <taskbody>
    <prereq id="GUID-81447006-4070-4CB3-BF78-161AE1954417">
      <ul id="UL_CBBD4A4B6E0E43BEB5196AFC9D103081">
        <li id="LI_6AA5770CE45A4EF0A24518A03EC6229F">The cluster must be running <ph conref="ISH_variables.dita#variables/ELEMENT-SHORT">Element</ph> 9.0 or later.</li>
        <li id="LI_9A6F7757C64E40D382A439B3781F167B">The cluster must be connected to an ESXi 6.0 or later environment that is compatible with VVols.</li>
        <li id="LI_18A1D6916753402EA3135CE56A5F68BC">If you are using <ph conref="ISH_variables.dita#variables/ELEMENT-SHORT">Element</ph> 11.3 or later, the cluster must be connected to an ESXi 6.0 update 3 or later environment.</li>
      </ul>
    </prereq>
    <context id="GUID-DA165266-58AE-44FF-BB5A-F6AAD7134E96">
      <note type="attention" id="GUID-138D3828-8A7D-4E3B-A2F6-018543E671FE">Enabling vSphere Virtual Volumes functionality permanently changes the <ph conref="ISH_variables.dita#variables/ELEMENT-SHORT">Element</ph> software configuration. You should only enable VVols functionality if your cluster is connected to a VMware ESXi VVols-compatible environment. You can disable the VVols feature and restore the default settings only by returning the cluster to the factory image, which deletes all data on the system.</note>
    </context>
    <steps id="GUID-FA4E45B6-D8FA-4C69-B8C4-F3716D96EA97">
      <step id="STEP_D12CAC2CB2284CA780F1F0C43CAE6B6A">
        <cmd>Select <menucascade><uicontrol>Clusters</uicontrol><uicontrol>Settings</uicontrol></menucascade>.</cmd>
      </step>
      <step id="STEP_67ED54A06C5B413784D244EAF6CCBB09">
        <cmd>Find the cluster-specific settings for Virtual Volumes.</cmd>
      </step>
      <step id="STEP_37C322CE62A348589EE7FD7B76C6783F">
        <cmd>Click <uicontrol>Enable Virtual Volumes</uicontrol>.</cmd>
      </step>
      <step id="STEP_EE2BC511AC3445DBA1E58FFFCCFEDEB6">
        <cmd>Click  <uicontrol>Yes</uicontrol> to confirm the Virtual Volumes configuration change.</cmd>
        <stepresult>The <uicontrol>VVols</uicontrol> tab appears in the Element UI.<note id="GUID-CA65AE97-C0BC-41DF-B92D-0273220DAD49">When VVols functionality is enabled, the SolidFire cluster starts the VASA Provider, opens port 8444 for VASA traffic, and creates protocol endpoints that can be discovered by vCenter and all ESXi hosts.</note></stepresult>
      </step>
      <step id="STEP_1BAD67887A894E80A6192433DD824F54">
        <cmd>Copy the VASA Provider URL from the Virtual Volumes (VVols) settings in <menucascade><uicontrol>Clusters</uicontrol><uicontrol>Settings</uicontrol></menucascade>. You will use this URL to register the
VASA Provider in vCenter.</cmd>
      </step>
      <step id="STEP_D7D2B0F259EF47008D361F8277B74E83">
        <cmd>Create a storage container in <menucascade><uicontrol>VVols</uicontrol><uicontrol>Storage Containers</uicontrol></menucascade>.</cmd>
        <info>
          <note id="GUID-9135E665-B2F6-4824-A72C-9192F6C69A7E">You must create at least one storage container so that VMs can be provisioned to a VVol datastore.</note>
        </info>
      </step>
      <step id="STEP_76249B0A12D540F2AF7E31723B942211">
        <cmd>Select <menucascade><uicontrol>VVols</uicontrol><uicontrol>Protocol Endpoints</uicontrol></menucascade>.</cmd>
      </step>
      <step id="STEP_75A1C6E4580246249B939FC92FC7714D">
        <cmd>Verify that a protocol endpoint has been created for each node in the cluster.</cmd>
        <info>
          <note id="GUID-56EE0FAE-A025-4E5F-8561-5DC50DEF9B06">Additional configuration tasks are required in vSphere. See the <cite>VMware vSphere Virtual Volumes for SolidFire Storage Configuration Guide</cite>  to register the VASA Provider in vCenter, create and manage VVol datastores, and manage storage based on policies.</note>
        </info>
      </step>
    </steps>
  </taskbody>
</task>
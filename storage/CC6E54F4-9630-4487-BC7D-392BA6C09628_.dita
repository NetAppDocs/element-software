<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "file:///C:/InfoShare/Web/Author/ASP/DocTypes/dita-oasis/1.2/technicalContent/dtd/concept.dtd">
<concept id="GUID-CC6E54F4-9630-4487-BC7D-392BA6C09628" xml:lang="en" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
  <title id="GUID-65009951-CEA8-40C0-92B8-10D84330EED0">Basic MDSS drive troubleshooting</title>
  <shortdesc>You can recover metadata (or slice) drives by adding them back to the cluster in the event that one or both metadata drives fail. You can perform the recovery operation in the <ph conref="ISH_variables.dita#variables/NTAP-IBM">NetApp</ph> Element UI if the MDSS feature is already enabled on the node.  </shortdesc>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>MDSS drives<indexterm>troubleshooting</indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <conbody>
    <p>If either or both of the metadata drives in a node experiences a failure, the slice service will shut down and data from both drives will be backed up to different drives in the node.</p>
    <p>The following scenarios outline possible failure scenarios, and provide basic recommendations to correct the issue:</p>
    <section id="SECTION_172D4392B9844AD29064BADA66E48357">
      <title id="GUID-4F1A7097-A817-4E03-B19E-07CE6AC8A06C">System slice drive fails</title>
      <p>
        <ul id="UL_720B3C16614540C1A30EC57B8430C4C6">
          <li id="LI_7A2CA5AAFC1F4ECDB163D131E5DA89BD">In this scenario, the slot 2 is verified and returned to an available state.</li>
          <li id="LI_C0E8F98019A34CA39DBFF28905CEA81B">The system slice drive must be repopulated before the slice service can be brought back online.</li>
          <li id="LI_DF5D34717A384635ACDBD362F3AACFA0">You should replace the system slice drive, when the system slice drive becomes available, add the drive and the slot 2 drive at the same time.</li>
        </ul>
      </p>
      <note id="GUID-7927D4AC-4EF6-45BC-BCD2-7CC9CB34D52B">You cannot add the drive in slot 2 by itself as a metadata drive. You must add both drives back to the node at the same time.</note>
    </section>
    <section id="SECTION_6C79823CC87A48F383E53F2E39C7630D">
      <title id="GUID-4EF56CEC-DCC1-444A-92A9-9830019B5E61">Slot 2 fails</title>
      <ul id="UL_4E07F84ECB774EB6841382F1F06F9811">
        <li id="LI_AB7FB95278AA49CCBE119B493D0964B9">In this scenario, the system slice drive is verified and returned to an available state.</li>
        <li id="LI_F75F0ACF8982457DAF360EC5B623C774">You should replace slot 2 with a spare, when slot 2 becomes available, add the system slice drive and the slot 2 drive at the same time.</li>
      </ul>
    </section>
    <section id="SECTION_25269792EB8745B9842929D0BF2CE253">
      <title id="GUID-71488CB4-774A-4E52-8F93-DA4BA40BABB6">System slice drive and slot 2 fails</title>
      <ul id="UL_D55D1D64FC2D4417BBB1E6A8B6F2DD0D">
        <li id="LI_1C5120F4B8E04B30B51C8126082DA5D2">You should replace both system slice drive and slot 2 with a spare drive. When both drives become available, add the system slice drive and the slot 2 drive at the same time.</li>
      </ul>
    </section>
    <section id="SECTION_C9F51F958E444BD7B41CA868D4D1E44E">
      <title id="GUID-5D227478-D3D4-4A45-9F20-CFB33C65C704">Order of operations</title>
      <ul id="UL_03C35506B27F4D7DA1226C257DFA8AB3">
        <li id="LI_ACA0BCCFA3BB482888334C29DDF106F4">Replace the failed hardware drive with a spare drive (replace both drives if both have failed).</li>
        <li id="LI_B169DBAFDA29455CA6E45A7132448C16">Add drives back to the cluster when they have been repopulated and are in an available state. </li>
      </ul>
    </section>
    <section id="SECTION_FD12610DC8C143AEB8AB8AAE6C7A8636">
      <title id="GUID-6B3E176C-C7F3-446A-995F-063B7DA08398">Verify operations</title>
      <ul id="UL_F0DDDD093CF94E519A060359B474ECD6">
        <li id="LI_4295AEE667E445A48355FC12AAC5AA26">Verify that the drives in slot 0 (or internal) and slot 2 are identified as metadata drives in the Active Drives list.</li>
        <li id="LI_227331CE1D6B4434B01AE88302719D9B">Verify that all slice balancing has completed (there are no further moving slices messages in the event log for at least 30 minutes).</li>
      </ul>
    </section>
  </conbody>
</concept>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "file:///C:/InfoShare/Web/Author/ASP/DocTypes/dita-oasis/1.2/technicalContent/dtd/reference.dtd">
<reference id="GUID-8B64CCAA-13DB-465D-B521-EA4AFF3D293C" xml:lang="en" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
  <title id="GUID-EA82D1DF-CCBC-4C3B-AB89-ECC1707C992B">ModifyClusterFullThreshold</title>
  <shortdesc>You can use the <apiname>ModifyClusterFullThreshold</apiname> method to change the level at which the system generates an event when the storage cluster approaches a certain capacity utilization. You can use the threshold setting to indicate the acceptable amount of utilized block storage before the system generates a warning. </shortdesc>
  <prolog>
    <metadata>
      <keywords>
        <keyword>modify</keyword>
        <keyword>modifying</keyword>
        <keyword>edit</keyword>
        <keyword>editing</keyword>
        <keyword>change</keyword>
        <keyword>changing</keyword>
        <keyword>cluster</keyword>
        <keyword>full</keyword>
        <keyword>fullness</keyword>
        <keyword>threshold</keyword>
        <keyword>modifyclusterfullthreshold</keyword>
      </keywords>
    </metadata>
  </prolog>
  <refbody>
    <section id="SECTION_FA10B1638FE0462C81A530601FCF1B46">
      <p>For example, if you want to be alerted when the system reaches 3% below the "Error" level block storage utilization, enter a value of "3" for the <parmname>stage3BlockThresholdPercent</parmname> parameter.  If this level is reached, the system sends an alert to the Event Log in the Cluster Management Console.</p>
    </section>
    <section id="GUID-BD7134AC-BA3D-4C73-A55E-E07E5AE863C5">
      <title id="GUID-4AD88036-4DA7-48C4-8C6B-7D48E4276322">Parameters</title>
      <p>This method has the following input parameters:</p>
      <note id="GUID-48DED23E-70A6-4CD7-BC5E-1CBC2AD405C8">You must select at least one parameter.</note>
      <table id="TABLE_DF663FD2692D4B0E9711C63602ACBDFE">
        <tgroup cols="5">
          <colspec colnum="1" colname="col1" colwidth="4.1*" />
          <colspec colnum="2" colname="col2" colwidth="1.5*" />
          <colspec colnum="3" colname="col3" colwidth="*" />
          <colspec colnum="4" colname="col4" colwidth="*" />
          <colspec colname="col5" colnum="5" colwidth="*" />
          <thead>
            <row>
              <entry colname="col1">Name</entry>
              <entry colname="col2">Description</entry>
              <entry colname="col3">Type</entry>
              <entry colname="col4">Default value </entry>
              <entry colname="col5">Required </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="col1">
                <parmname>maxMetadataOverProvisionFactor</parmname>
              </entry>
              <entry colname="col2">A value representative of the number of times metadata space can be over provisioned relative to the amount of space available. For example, if there was enough metadata space to store 100 TiB of volumes and this number was set to 5, then 500 TiB worth of volumes could be created.</entry>
              <entry colname="col3">integer</entry>
              <entry colname="col4">5</entry>
              <entry colname="col5">No</entry>
            </row>
            <row>
              <entry colname="col1">
                <parmname>stage2AwareThreshold</parmname>
              </entry>
              <entry colname="col2">The number of nodes of capacity remaining in the cluster before the system triggers a capacity notification.</entry>
              <entry colname="col3">integer</entry>
              <entry colname="col4">None</entry>
              <entry colname="col5">No</entry>
            </row>
            <row>
              <entry colname="col1">
                <parmname>stage3BlockThresholdPercent</parmname>
              </entry>
              <entry colname="col2">The percentage of block storage utilization below the "Error" threshold that causes the system to trigger a cluster "Warning" alert. </entry>
              <entry colname="col3">integer</entry>
              <entry colname="col4">None</entry>
              <entry colname="col5">No</entry>
            </row>
            <row>
              <entry colname="col1">
                <parmname>stage3MetadataThresholdPercent</parmname>
              </entry>
              <entry colname="col2">The percentage of metadata storage utilization below the “Error” threshold that causes the system to trigger a cluster “Warning” alert.</entry>
              <entry colname="col3">integer</entry>
              <entry colname="col4">None</entry>
              <entry colname="col5">No</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="SECTION_B951BC9C8818445FADECE482F7A3960D">
      <title id="GUID-F626A1E1-FE89-4149-A42A-97BA7B22E408">Return values</title>
      <p>This method has the following return values:</p>
      <table id="TABLE_97E205A64986432382CFB165D83E5F4C">
        <tgroup cols="3">
          <colspec colnum="1" colname="col1" colwidth="2.68*" />
          <colspec colnum="2" colname="col2" colwidth="3.12*" />
          <colspec colnum="3" colname="col3" colwidth="1.00*" />
          <thead>
            <row>
              <entry colname="col1">Name</entry>
              <entry colname="col2">Description</entry>
              <entry colname="col3">Type</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="col1">blockFullness</entry>
              <entry colname="col2">The current computed level of block fullness of the cluster.<ul conref="469EA388-6B36-4721-A7CD-E5BF52B69C66_.dita#GUID-469EA388-6B36-4721-A7CD-E5BF52B69C66/UL_63CD853B8F8A452B895040289D6CC955" id="GUID-18DC0187-F714-4E67-B9C8-987AA4CD91BF"><li id="li_3DE1E7D464D4404F833A38AE4A6897A1" /></ul></entry>
              <entry colname="col3">string</entry>
            </row>
            <row>
              <entry colname="col1">fullness</entry>
              <entry colname="col2">Reflects the highest level of fullness between "blockFullness" and "metadataFullness". </entry>
              <entry colname="col3">string</entry>
            </row>
            <row>
              <entry colname="col1">maxMetadataOverProvisionFactor</entry>
              <entry colname="col2">A value representative of the number of times metadata space can be over provisioned relative to the amount of space available. For example, if there was enough metadata space to store 100 TiB of volumes and this number was set to 5, then 500 TiB worth of volumes could be created.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">metadataFullness</entry>
              <entry colname="col2">The current computed level of metadata fullness of the cluster.<ul conref="469EA388-6B36-4721-A7CD-E5BF52B69C66_.dita#GUID-469EA388-6B36-4721-A7CD-E5BF52B69C66/UL_63CD853B8F8A452B895040289D6CC955" id="GUID-45885732-0949-4625-864A-385FEB258018"><li id="li_4A2C24AD3CF34CAAA9C8D32F08C20D65" /></ul></entry>
              <entry colname="col3">string</entry>
            </row>
            <row>
              <entry colname="col1">sliceReserveUsedThresholdPct</entry>
              <entry colname="col2">Error condition. A system alert is triggered if the reserved slice utilization is greater than the sliceReserveUsedThresholdPct value returned. </entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage2AwareThreshold</entry>
              <entry colname="col2">Awareness condition. The value that is set for "Stage 2" cluster threshold level.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage2BlockThresholdBytes</entry>
              <entry colname="col2">The number of bytes being used by the cluster at which a stage 2 fullness condition will exist.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage2MetadataThresholdBytes</entry>
              <entry colname="col2">The number of metadata bytes being used by the cluster at which a stage 2 fullness condition will exist.</entry>
              <entry colname="col3" />
            </row>
            <row>
              <entry colname="col1">stage3BlockThresholdBytes</entry>
              <entry colname="col2">The number of storage bytes being used by the cluster at which a stage 3 fullness condition will exist.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage3BlockThresholdPercent</entry>
              <entry colname="col2">The percent value set for stage 3. At this percent full, a warning is posted in the Alerts log.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage3LowThreshold</entry>
              <entry colname="col2">Error condition. The threshold at which a system alert is created due to low  capacity on a cluster.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage3MetadataThresholdBytes</entry>
              <entry colname="col2">The number of metadata bytes used by the cluster at which a stage 3 fullness condition will exist.</entry>
              <entry colname="col3" />
            </row>
            <row>
              <entry colname="col1">stage4BlockThresholdBytes</entry>
              <entry colname="col2">The number of storage bytes being used by the cluster at which a stage 4 fullness condition will exist.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage4CriticalThreshold</entry>
              <entry colname="col2">Error condition. The threshold at which a system alert is created to warn about critically low capacity on a cluster.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage4MetadataThresholdBytes</entry>
              <entry colname="col2">The number of metadata bytes used by the cluster at which a stage 4 fullness condition will exist.</entry>
              <entry colname="col3" />
            </row>
            <row>
              <entry colname="col1">stage5BlockThresholdBytes</entry>
              <entry colname="col2">The number of storage bytes used by the cluster at which a stage 5 fullness condition will exist.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">stage5MetadataThresholdBytes</entry>
              <entry colname="col2">The number of metadata bytes used by the cluster at which a stage 5 fullness condition will exist.</entry>
              <entry colname="col3" />
            </row>
            <row>
              <entry colname="col1">sumTotalClusterBytes</entry>
              <entry colname="col2">The physical capacity of the cluster, measured in bytes.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">sumTotalMetadataClusterBytes</entry>
              <entry colname="col2">The total amount of space that can be used to store metadata.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">sumUsedClusterBytes</entry>
              <entry colname="col2">The number of storage bytes used on the cluster.</entry>
              <entry colname="col3">integer</entry>
            </row>
            <row>
              <entry colname="col1">sumUsedMetadataClusterBytes</entry>
              <entry colname="col2"> The amount of space used on volume drives to store metadata.</entry>
              <entry colname="col3">integer</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="SECTION_5FA684D774104B22989CD3F451C07008">
      <title id="GUID-E7471790-2316-4CCD-A290-0A13743927C8">Request example</title>
      <p>Requests for this method are similar to the following example: </p>
      <codeblock xml:space="preserve">{
   "method" : "ModifyClusterFullThreshold", 
   "params" : { 
              "stage3BlockThresholdPercent" : 3
              },
   "id" : 1
}</codeblock>
    </section>
    <section id="SECTION_BD5D8DCA54094AAE99A91526F00198BA">
      <title id="GUID-A6B1D1CD-41DE-43CF-AFB9-F0D31155763E">Response example</title>
      <p>This method returns a response similar to the following example: </p>
      <codeblock xml:space="preserve">{
  "id": 1,
  "result": {
    "blockFullness": "stage1Happy",
    "fullness": "stage3Low",
    "maxMetadataOverProvisionFactor": 5,
    "metadataFullness": "stage3Low",
    "sliceReserveUsedThresholdPct": 5,
    "stage2AwareThreshold": 3,
    "stage2BlockThresholdBytes": 2640607661261,
    "stage3BlockThresholdBytes": 8281905846682,
    "stage3BlockThresholdPercent": 3,
    "stage3LowThreshold": 2,
    "stage4BlockThresholdBytes": 8641988709581,
    "stage4CriticalThreshold": 1,
    "stage5BlockThresholdBytes": 12002762096640,
    "sumTotalClusterBytes": 12002762096640,
    "sumTotalMetadataClusterBytes": 404849531289,
    "sumUsedClusterBytes": 45553617581,
    "sumUsedMetadataClusterBytes": 31703113728
  }
}</codeblock>
    </section>
    <section id="GUID-8E306C1B-F213-431A-A81B-20A2603D0C91">
      <title id="GUID-6D16BBA2-0BA1-4D9E-8A6B-13BE1A84211B">New since version</title>
      <p>9.6</p>
    </section>
  </refbody>
</reference>
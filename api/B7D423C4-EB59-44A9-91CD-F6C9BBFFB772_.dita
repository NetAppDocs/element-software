<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "file:///C:/InfoShare/Web/Author/ASP/DocTypes/dita-oasis/1.2/technicalContent/dtd/concept.dtd">
<concept id="GUID-B7D423C4-EB59-44A9-91CD-F6C9BBFFB772" xml:lang="en" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
  <title id="GUID-E6053DF9-6A05-4F24-9846-290A367E4928">Multitenant networking API methods</title>
  <shortdesc>Multitenant networking in Element storage clusters allows traffic between multiple clients that are on separate logical networks to be connected to one  Element storage  cluster without layer 3 routing.</shortdesc>
  <prolog>
    <metadata>
      <keywords>
        <keyword>multitenant</keyword>
        <keyword>network</keyword>
        <keyword>networking</keyword>
        <keyword>api</keyword>
        <keyword>prerequisites</keyword>
        <keyword>requirements</keyword>
        <keyword>virtual</keyword>
        <keyword>tenant</keyword>
      </keywords>
    </metadata>
  </prolog>
  <conbody>
    <p>Connections to the  storage cluster are segregated in the networking stack through the use of VLAN tagging. </p>
    <section id="SECTION_C807F12289134C639F46505E9305645A">
      <title id="GUID-B5FFDE64-75C8-4DB8-915F-F29D6FD4A071">Prerequisites for setting up a multitenant virtual network</title>
      <p>
        <ul id="UL_C0CF97DFB7FA4AA08D8BA4E09D103565">
          <li id="LI_3008D67FF3F541208AD65D837BFC6102">You must have identified the block of client network IP addresses to be assigned to the virtual networks on the storage nodes.</li>
          <li id="LI_CA29D0DAD7B248EE822D69BC6A9F4D2B">You must have identified a client storage network IP (SVIP) address to be used as an endpoint for all  storage traffic. </li>
        </ul>
      </p>
    </section>
    <section id="SECTION_357D129DDCC744178DC59B4F9D646C41">
      <title id="GUID-E50A3B3E-0826-49C3-8A07-D4277549E881">Virtual networking order of operations</title>
      <p>
        <ol id="OL_3A0AB4378ADF49369ED61809B20ED9EA">
          <li id="LI_7F60AC35CC4242A79B60D402D375537C">Use the <apiname>AddVirtualNetwork</apiname> method to bulk provision the IP addresses you enter.<p>After you add a virtual network, the cluster automatically performs the following steps:<ul id="UL_EE6305CD587241858D7848406BDA6060"><li id="LI_58D5E8AAD4004689ACB32E7F8BA07FB8">Each storage node creates a virtual network interface.</li><li id="LI_A5D21BD51C014C408ACDC851339E8FDC">Each storage node is assigned a VLAN address that can be routed to using the virtual SVIP.</li><li id="LI_D5207B5EE76F4270AD3C29F8EE643C80">VLAN IP addresses persist on each node in the event of a node reboot.</li></ul></p></li>
          <li id="LI_B5919606587C4178AE1CB507764CCE0C">When the virtual network interface and VLAN addresses have been assigned, you can assign client network traffic to the virtual SVIP. </li>
        </ol>
      </p>
    </section>
  </conbody>
</concept>